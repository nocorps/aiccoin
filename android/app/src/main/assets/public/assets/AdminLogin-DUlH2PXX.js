import{_ as v,b as i,c,d as o,t as p,e as w,w as l,v as u,f,s as h,g as _,h as y,i as b,j as E,o as g,u as L}from"./index-CgK7zKxJ.js";const S={setup(){const m=L(),e=i(""),d=i(""),a=i(""),n=i(""),r=i(!1),s="Kanagaraj@9790";return{email:e,password:d,adminKey:a,error:n,isLoading:r,handleSubmit:async()=>{n.value="",r.value=!0;try{if(a.value!==s)throw new Error("Invalid admin key");const t=await h(_,e.value,d.value);if(!(await y(b(E,"admins",t.user.uid))).exists())throw new Error("Not authorized as admin");await m.replace("/admin/dashboard")}catch(t){n.value=t.message,console.error("Login error:",t)}finally{r.value=!1}}}}},A={class:"admin-login"},D={key:0,class:"error-message"},K={class:"input-group"},x={class:"input-group"},V={class:"input-group"},k=["disabled"];function I(m,e,d,a,n,r){return g(),c("div",A,[o("form",{onSubmit:e[3]||(e[3]=f((...s)=>a.handleSubmit&&a.handleSubmit(...s),["prevent"])),class:"login-form"},[e[4]||(e[4]=o("h2",null,"Admin Login",-1)),a.error?(g(),c("div",D,p(a.error),1)):w("",!0),o("div",K,[l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.email=s),type:"email",placeholder:"Admin Email",required:"",class:"admin-input"},null,512),[[u,a.email]])]),o("div",x,[l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.password=s),type:"password",placeholder:"Password",required:"",class:"admin-input"},null,512),[[u,a.password]])]),o("div",V,[l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.adminKey=s),type:"password",placeholder:"Admin Secret Key",required:"",class:"admin-input"},null,512),[[u,a.adminKey]])]),o("button",{type:"submit",class:"admin-button",disabled:a.isLoading},p(a.isLoading?"Logging in...":"Login"),9,k)],32)])}const C=v(S,[["render",I],["__scopeId","data-v-556adeea"]]);export{C as default};
